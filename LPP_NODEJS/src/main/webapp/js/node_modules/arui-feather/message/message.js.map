{"version":3,"sources":["message/message.jsx"],"names":["Message","popup","popupTarget","setTarget","cn","props","type","renderTextMessage","renderPopupMessage","showed","visible","children","Component","propTypes","oneOf","bool","oneOfType","arrayOf","node","theme","className","func","string","defaultProps"],"mappings":";;;;;;;;yCAAA;;;;AAIA;;;;AACA;;;;AAEA;;;;AAEA;;;;AACA;;;;;;;;;;;;AAEA;;;IAKMA,O,WAFL,kBAAG,SAAH,C,UACA,4B;;;;;;;;;;;4CAsBuB;AAChB,gBAAI,KAAKC,KAAL,IAAc,KAAKC,WAAvB,EAAoC;AAChC,qBAAKD,KAAL,CAAWE,SAAX,CAAqB,KAAKD,WAA1B;AACH;AACJ;;;+BAEME,E,EAAI;AACP,mBAAO,KAAKC,KAAL,CAAWC,IAAX,KAAoB,MAApB,GACD,KAAKC,iBAAL,CAAuBH,EAAvB,CADC,GAED,KAAKI,kBAAL,CAAwBJ,EAAxB,CAFN;AAGH;;;0CAEiBA,E,EAAI;AAClB,mBACI;AAAA;AAAA;AACI,+BAAeA,GAAG;AACdE,8BAAM,MADQ;AAEdG,gCAAQ,KAAKJ,KAAL,CAAWK;AAFL,qBAAH,CAAf;AADJ;AAMM,qBAAKL,KAAL,CAAWM;AANjB,aADJ;AAUH;;;2CAEkBP,E,EAAI;AAAA;;AACnB,mBACI;AAAA;AAAA;AACI;AAAA;AAAA;AACI,mCAAYA,GAAG,EAAEE,MAAM,OAAR,EAAH,CADhB;AAEI,6BAAM,aAACJ,WAAD,EAAiB;AAAE,mCAAKA,WAAL,GAAmBA,WAAnB;AAAiC;AAF9D;AAII;AAAA;AAAA;AACI,uCAAYE,GAAG,SAAH,CADhB;AAEI,iCAAM,aAACH,KAAD,EAAW;AAAE,uCAAKA,KAAL,GAAaA,KAAb;AAAqB,6BAF5C;AAGI,qCAAU,KAAKI,KAAL,CAAWK;AAHzB;AAKM,6BAAKL,KAAL,CAAWM;AALjB;AAJJ;AADJ,aADJ;AAgBH;;;;EA/DiB,gBAAMC,S,WACjBC,S,GAAY;AACf;AACAP,UAAM,oBAAKQ,KAAL,CAAW,CAAC,MAAD,EAAS,OAAT,CAAX,CAFS;AAGf;AACAJ,aAAS,oBAAKK,IAJC;AAKf;AACAJ,cAAU,oBAAKK,SAAL,CAAe,CAAC,oBAAKC,OAAL,CAAa,oBAAKC,IAAlB,CAAD,EAA0B,oBAAKA,IAA/B,CAAf,CANK;AAOf;AACAC,WAAO,oBAAKL,KAAL,CAAW,CAAC,eAAD,EAAkB,eAAlB,CAAX,CARQ;AASf;AACAM,eAAW,oBAAKJ,SAAL,CAAe,CAAC,oBAAKK,IAAN,EAAY,oBAAKC,MAAjB,CAAf;AAVI,C,UAaZC,Y,GAAe;AAClBjB,UAAM;AADY,C;kBAoDXN,O","file":"message.js","sourcesContent":["/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\nimport React from 'react';\nimport Type from 'prop-types';\n\nimport Popup from '../popup/popup';\n\nimport cn from '../cn';\nimport performance from '../performance';\n\n/**\n * Компонент сообщения.\n */\n@cn('message')\n@performance()\nclass Message extends React.Component {\n    static propTypes = {\n        /** Тип компонента */\n        type: Type.oneOf(['text', 'popup']),\n        /** Управление видимостью компонента */\n        visible: Type.bool,\n        /** Дочерние элементы `Message` */\n        children: Type.oneOfType([Type.arrayOf(Type.node), Type.node]),\n        /** Тема компонента */\n        theme: Type.oneOf(['alfa-on-color', 'alfa-on-white']),\n        /** Дополнительный класс */\n        className: Type.oneOfType([Type.func, Type.string])\n    };\n\n    static defaultProps = {\n        type: 'text'\n    };\n\n    popup;\n    popupTarget;\n\n    componentDidMount() {\n        if (this.popup && this.popupTarget) {\n            this.popup.setTarget(this.popupTarget);\n        }\n    }\n\n    render(cn) {\n        return this.props.type === 'text'\n            ? this.renderTextMessage(cn)\n            : this.renderPopupMessage(cn);\n    }\n\n    renderTextMessage(cn) {\n        return (\n            <div\n                className={ `${cn({\n                    type: 'text',\n                    showed: this.props.visible\n                })} message__control` }\n            >\n                { this.props.children }\n            </div>\n        );\n    }\n\n    renderPopupMessage(cn) {\n        return (\n            <div>\n                <div\n                    className={ cn({ type: 'popup' }) }\n                    ref={ (popupTarget) => { this.popupTarget = popupTarget; } }\n                >\n                    <Popup\n                        className={ cn('control') }\n                        ref={ (popup) => { this.popup = popup; } }\n                        visible={ this.props.visible }\n                    >\n                        { this.props.children }\n                    </Popup>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Message;\n"]}