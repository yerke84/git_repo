{"version":3,"sources":["page/page.jsx"],"names":["SMALL_HEADER_HEIGHT","PADDING_FROM_HEADER","Page","state","innerMargin","contentPadding","cn","header","props","cloneElement","onResize","handleHeaderResize","marginTop","paddingTop","children","footer","headerHeight","contentHeight","setState","Component","propTypes","node","oneOfType","arrayOf","theme","oneOf","className","func","string"],"mappings":";;;;;;;;2DAAA;;;;AAIA;;AACA;;;;AACA;;;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA,IAAMA,sBAAsB,EAA5B;AACA,IAAMC,sBAAsB,EAA5B;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAkCMC,I,WADL,kBAAG,MAAH,C;;;;;;;;;;;;;;sLAeGC,K,GAAQ;AACJC,yBAAa,IADT;AAEJC,4BAAgB;AAFZ,S;;;;;+BAKDC,E,EAAI;AACP,gBAAIC,eAAJ;AACA,gBAAI,KAAKC,KAAL,CAAWD,MAAf,EAAuB;AACnBA,yBAAS,gBAAME,YAAN,CAAmB,KAAKD,KAAL,CAAWD,MAA9B,EACL;AACIG,8BAAU,KAAKC;AADnB,iBADK,CAAT;AAKH;;AAED,mBACI;AAAA;AAAA,kBAAK,WAAYL,EAAjB;AACMC,sBADN;AAEI;AAAA;AAAA,sBAAK,WAAYD,GAAG,OAAH,CAAjB,EAA+B,OAAQ,EAAEM,WAAW,KAAKT,KAAL,CAAWC,WAAxB,EAAvC;AACI;AAAA;AAAA,0BAAK,WAAYE,GAAG,SAAH,CAAjB,EAAiC,OAAQ,EAAEO,YAAY,KAAKV,KAAL,CAAWE,cAAzB,EAAzC;AACM,6BAAKG,KAAL,CAAWM;AADjB;AADJ,iBAFJ;AAOM,qBAAKN,KAAL,CAAWO,MAAX,IACE;AAAA;AAAA,sBAAK,WAAYT,GAAG,QAAH,CAAjB;AACI;AAAA;AAAA,0BAAK,WAAYA,GAAG,gBAAH,CAAjB;AACM,6BAAKE,KAAL,CAAWO;AADjB;AADJ;AARR,aADJ;AAiBH;;;2CAGkBC,Y,EAAcC,a,EAAe;AAC5C,gBAAIb,cAAc,CAAC,CAAD,GAAKY,YAAvB;AACA,gBAAIX,iBAAiBY,gBAAgBjB,mBAAhB,GAAsCC,mBAA3D;;AAEA,iBAAKiB,QAAL,CAAc;AACVd,wCADU;AAEVC;AAFU,aAAd;;AAKA,gBAAI,KAAKG,KAAL,CAAWD,MAAX,IAAqB,KAAKC,KAAL,CAAWD,MAAX,CAAkBC,KAAlB,CAAwBE,QAAjD,EAA2D;AACvD,qBAAKF,KAAL,CAAWD,MAAX,CAAkBC,KAAlB,CAAwBE,QAAxB,CAAiCM,YAAjC,EAA+CC,aAA/C;AACH;AACJ;;;;EA7Dc,gBAAME,S,WACdC,S,GAAY;AACf;AACAb,YAAQ,oBAAKc,IAFE;AAGf;AACAP,cAAU,oBAAKQ,SAAL,CAAe,CAAC,oBAAKC,OAAL,CAAa,oBAAKF,IAAlB,CAAD,EAA0B,oBAAKA,IAA/B,CAAf,CAJK;AAKf;AACAN,YAAQ,oBAAKM,IANE;AAOf;AACAG,WAAO,oBAAKC,KAAL,CAAW,CAAC,eAAD,EAAkB,eAAlB,CAAX,CARQ;AASf;AACAC,eAAW,oBAAKJ,SAAL,CAAe,CAAC,oBAAKK,IAAN,EAAY,oBAAKC,MAAjB,CAAf;AAVI,C;kBA+DR1B,I","file":"page.js","sourcesContent":["/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\nimport { autobind } from 'core-decorators';\nimport React from 'react';\nimport Type from 'prop-types';\n\nimport cn from '../cn';\n\nconst SMALL_HEADER_HEIGHT = 80;\nconst PADDING_FROM_HEADER = 15;\n\n/**\n * Компонент страницы.\n * Как правило является корневым компонентов страницы.\n * Обычно используется совместно с компонентами `Header`, `Footer`\n * и компонентами `AppTitle`, `AppMenu` и `AppContent`.\n *\n * @example\n * ```javascript\n * import Page from 'arui-feather/page';\n * import Header from 'arui-feather/header';\n * import Footer from 'arui-feather/footer';\n *\n * import AppTitle from 'arui-feather/app-title';\n * import AppMenu from 'arui-feather/app-menu';\n * import AppContent from 'arui-feather/app-content';\n *\n * import Heading from 'arui-feather/heading';\n * import Menu from 'arui-feather/menu';\n * import Paragraph from 'arui-feather/paragraph';\n *\n * <Page header={ <Header /> } footer={ <Footer /> }>\n *     <AppTitle>\n *         <Heading>Заголовок страницы</Heading>\n *     </AppTitle>\n *     <AppMenu>\n *         <Menu />\n *     </AppMenu>\n *     <AppContent>\n *         <Paragraph>Контент страницы...</Paragraph>\n *     </AppContent>\n * </Page>\n * ```\n */\n@cn('page')\nclass Page extends React.Component {\n    static propTypes = {\n        /** Шапка страницы */\n        header: Type.node,\n        /** Дочерние элементы `Page` */\n        children: Type.oneOfType([Type.arrayOf(Type.node), Type.node]),\n        /** Футер страницы */\n        footer: Type.node,\n        /** Тема компонента */\n        theme: Type.oneOf(['alfa-on-color', 'alfa-on-white']),\n        /** Дополнительный класс */\n        className: Type.oneOfType([Type.func, Type.string])\n    };\n\n    state = {\n        innerMargin: null,\n        contentPadding: null\n    };\n\n    render(cn) {\n        let header;\n        if (this.props.header) {\n            header = React.cloneElement(this.props.header,\n                {\n                    onResize: this.handleHeaderResize\n                }\n            );\n        }\n\n        return (\n            <div className={ cn }>\n                { header }\n                <div className={ cn('inner') } style={ { marginTop: this.state.innerMargin } }>\n                    <div className={ cn('content') } style={ { paddingTop: this.state.contentPadding } }>\n                        { this.props.children }\n                    </div>\n                </div>\n                { this.props.footer &&\n                    <div className={ cn('footer') }>\n                        <div className={ cn('footer-content') }>\n                            { this.props.footer }\n                        </div>\n                    </div>\n                }\n            </div>\n        );\n    }\n\n    @autobind\n    handleHeaderResize(headerHeight, contentHeight) {\n        let innerMargin = -1 * headerHeight;\n        let contentPadding = contentHeight + SMALL_HEADER_HEIGHT + PADDING_FROM_HEADER;\n\n        this.setState({\n            innerMargin,\n            contentPadding\n        });\n\n        if (this.props.header && this.props.header.props.onResize) {\n            this.props.header.props.onResize(headerHeight, contentHeight);\n        }\n    }\n}\n\nexport default Page;\n"]}